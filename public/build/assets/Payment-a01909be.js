import{_ as w}from"./AppLayout-c11adba6.js";import{d as n,R as k,S as c,U as M,p as f,o as h,e as P,a as e,l as B,y as S,b as r,w as g,F as C,c as N}from"./app-b0385caa.js";import"./ApplicationMark-5831798a.js";import"./_plugin-vue_export-helper-c27b6911.js";const U=e("div",{class:"flex flex-col text-center w-full mt-12"},[e("h1",{class:"text-3xl font-bold title-font text-gray-900"},"Subscribe to mylinx Pro "),e("p",{class:"font-light"},"for a much richer link-in-bio experience")],-1),E={class:"px-4 pb-24"},F={class:"flex w-full lg:w-1/2 md:w-3/4 bg-white mx-auto mt-12 p-6 rounded-xl"},I={class:"flex flex-col w-full"},Q=e("div",{class:"flex flex-row w-full px-4 py-4 bg-[#ffff00] rounded-xl font-bold mb-4"},[e("div",{class:"w-1/2"},"Plan: mylinx PRO (Monthly)"),e("div",{class:"w-1/2 text-right"},"$3.5 / month")],-1),R=e("input",{type:"hidden",name:"plan",value:"{{ request('plan') }}"},null,-1),O=e("label",null,"Name on card",-1),T=e("label",null,"Card Details",-1),G={class:"rounded-lg mt-2 bg-gray-100 h-12 flex items-center px-4 focus:ring-0 border-0"},W=["data-secret"],$=e("div",{class:"text-center text-sm font-light mt-2"},"You will be charged $3.5 per month",-1),q={__name:"Payment",setup(x){const i=n("pk_test_51NMUkFGRBlz0WO8MQ7qhjBidPt6Iyw0Q6cMT4pnrPxh0OBJv6cf4AgRG02W30hQcUIXasc9fFo7vUNsC6YmTeL1700m01c8t7y"),d=n(!1),m=n(),p=n(),u=n(null),_=n(null),o=n("");k(()=>{c.get("/get-setup-intent").then(t=>{u.value=t.data.intent.client_secret}).catch(t=>{console.log(t)}),c.get("/get-monthly-plan-id").then(t=>_.value=t.data).catch(t=>{console.log(t)})}),M(()=>{loadStripe(i.value).then(()=>{d.value=!0})});const y=async()=>{const t=m.value.stripeElement,{setupIntent:l,error:s}=await p.value.instance.confirmCardPayment(u.value,{payment_method:{card:t,billing_details:{name:o.value}}});s?console.log(s.message):b(l.payment_method)},b=async t=>{try{await c.post(route("/subscribe"),{plan:_,payment_method:t}),console.log(bg)}catch(l){console.log(l)}};return(t,l)=>{const s=f("StripeElement"),v=f("StripeElements");return h(),P(C,null,[U,e("div",E,[e("div",F,[e("div",I,[Q,R,O,B(e("input",{type:"text",name:"name",class:"h-12 mt-2 px-5 py-2.5 w-full focus:ring-0 border-0 bg-gray-100 mb-4 rounded-lg","onUpdate:modelValue":l[0]||(l[0]=a=>o.value=a),placeholder:"Name on card"},null,512),[[S,o.value]]),T,e("div",G,[r(v,{class:"w-full",ref_key:"elms",ref:p,"stripe-key":"pk_test_51NMUkFGRBlz0WO8MQ7qhjBidPt6Iyw0Q6cMT4pnrPxh0OBJv6cf4AgRG02W30hQcUIXasc9fFo7vUNsC6YmTeL1700m01c8t7y"},{default:g(({elements:a,instance:D})=>[r(s,{ref_key:"card",ref:m,elements:a},null,8,["elements"])]),_:1},512)]),e("button",{type:"button",onClick:y,class:"w-full h-12 bg-indigo-500 rounded-lg mt-4 text-white font-bold","data-secret":this.clientSecret},"Charge My Card and Subscribe",8,W),$])])])],64)}}},z={__name:"Payment",setup(x){return(i,d)=>(h(),N(w,{title:"Design"},{default:g(()=>[r(q)]),_:1}))}};export{z as default};
